<!DOCTYPE html>

{% load staticfiles %} <!--Load the static folder will be referenced later-->

<html>
	<head>
		<title>Ocu-Pants</title>

		<meta charset="utf-8">
		<link rel="stylesheet" href="{% static 'css/style.css' %}"> <!--load style.css from static folder-->
	</head>
	
	<body>
       <form action="" method="POST">{% csrf_token %} <!--form to select room using post method and sending a csrf token-->
            <select name="roomForm" onchange="this.form.submit()"> <!--submit on change-->
                <option value="" selected></option>
                {% for room in roomList %} <!--automatically generate the form options from roomList-->
                <option value="{{ room.room }}">{{ room.room }}</option>
            {% endfor %}
            </select>
        </form>
        
        <div class="centered"> <!--Display each field of the returned room object-->
            <h3>{{ roomObj.0.campus }}  {{ roomObj.0.building }}  {{ roomObj.0.room }}  {{ roomObj.0.capacity }}</h3><br>
            <h3>{{ timeList }}</h3>
        </div>
        
        <div class="centered" id="tableDiv" style="Display: block">
            <table> <!--Display the table headings-->
                <tr><th></th><th>Monday</th><th>Tuesday</th><th>Wednesday</th><th>Thursday</th><th>Friday</th></tr> 

                {% for y in var_time %} <!--build rows by identifing each timeslot 9am - 5pm in turn-->

                    <tr><th>{{ y }}:00</th>
                        
                    {% for timeSlot in roomSchedule %} <!--build columns by cycling through the object and displaying the module with the correct time-->
                        {% if timeSlot.datetime.hour == y  %}
                            <td>{{ timeSlot.module.modulename }}</td> <!--Display the cell-->
                        {% endif %}
                    {% endfor %}
                    </tr>
                {% endfor %}
            </table>
        </div>
    </body>    
</html>                