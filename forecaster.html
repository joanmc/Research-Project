<!DOCTYPE html>
<html lang="en">
    
    <head><!-- head as described in index page --> 
        <meta charset="utf-8">
        <title>Forecaster</title>
<!--        <link rel="stylesheet" type="text/css" href="css/reset.css">-->
        <link rel="stylesheet" type="text/css" href="css/stylesheet.css">
        <script type="text/javascript" src="libraries/jquery.js"></script>
        <script type="text/javascript" src="libraries/jquery.jqplot/jquery.min.js"></script>
        <script type="text/javascript" src="libraries/jquery.jqplot/jquery.jqplot.js"></script>
        <script type="text/javascript" src="libraries/jquery.jqplot/plugins/jqplot.canvasAxisTickRenderer.js"></script>
        <script type="text/javascript" src="libraries/jquery.jqplot/"></script>
        <script type="text/javascript" src="libraries/jquery.jqplot/plugins/jqplot.canvasTextRenderer.js"></script>
        <script type="text/javascript" src="libraries/jquery.jqplot/plugins/jqplot.canvasAxisLabelRenderer.js"></script>
    </head>
    
    <body>
        
        
        
        
<!--        this section controls the graphics for the header and the navigation bar(currently disabled)-->
        
        <div class= "headerbackground"><!-- header as described in index page -->
            <header class="centered">
                <div style="height: 185px">
                    
                    <img  src="images/smoke3.png" alt="image not working" class="topimage">
                    <h1 class="pagetitle" style='display:inline'>forecaster . . .</h1>
                </div>
                <div>
                    <nav class="navbar"><!-- navbar as described in index page -->
                        <ul>
                            <li><a href="index.html">Home</a></li>
                            <li><a href="travel.html">Travel</a></li>
                            <li><a href="portfolio.html">Portfolio</a></li>
                            <li><a href="follow.html">Follow</a></li>
                        </ul>
                    </nav>
                </div>
            </header>
        </div>
        
        
        
        
        
<!--        below are the various elemants of the initial input including: unit choice, number of days, location textbox, countrycode dropdown and submi button-->
        
        <div class="centered" style="display: block; margin:0px auto 45px; padding: 35px 0px 25px 0px; height:100px;">           
            <form id="locationForm" action="process.php" method="post" style="float: left" accept-charset="UTF-8">
                <input type="hidden" name="mode" value="json">          
                
                Choose Units:  
                <input type="radio" name="units" value="metric" checked> Metric<!-- form -->
                <input type="radio" name="units" value="imperial"> Imperal<br><br>
                
                Choose number of days:
                <input type="radio" name="cnt" value="1" checked> 1<!-- form -->
                <input type="radio" name="cnt" value="2"> 2
                <input type="radio" name="cnt" value="3"> 3
                <input type="radio" name="cnt" value="4"> 4
                <input type="radio" name="cnt" value="5"> 5<br><br>
                
                Enter location:  
                <input type="text" name="location" value="" size="14">
                
                <select name="countryCode" id="countryCode" form="locationForm" style="width: 100px" >
                    <option value="">none</option>
                    <option value="AF">Afghanistan</option>
                    <option value="AX">Åland Islands</option>
                    <option value="AL">Albania</option>
                    <option value="DZ">Algeria</option>
                    <option value="AS">American Samoa</option>
                    <option value="AD">Andorra</option>
                    <option value="AO">Angola</option>
                    <option value="AI">Anguilla</option>
                    <option value="AQ">Antarctica</option>
                    <option value="AG">Antigua and Barbuda</option>
                    <option value="AR">Argentina</option>
                    <option value="AM">Armenia</option>
                    <option value="AW">Aruba</option>
                    <option value="AU">Australia</option>
                    <option value="AT">Austria</option>
                    <option value="AZ">Azerbaijan</option>
                    <option value="BS">Bahamas</option>
                    <option value="BH">Bahrain</option>
                    <option value="BD">Bangladesh</option>
                    <option value="BB">Barbados</option>
                    <option value="BY">Belarus</option>
                    <option value="BE">Belgium</option>
                    <option value="BZ">Belize</option>
                    <option value="BJ">Benin</option>
                    <option value="BM">Bermuda</option>
                    <option value="BT">Bhutan</option>
                    <option value="BO">Bolivia</option>
                    <option value="BQ">Bonaire, Sint Eustatius and Saba</option>
                    <option value="BA">Bosnia and Herzegovina</option>
                    <option value="BW">Botswana</option>
                    <option value="BV">Bouvet Island</option>
                    <option value="BR">Brazil</option>
                    <option value="IO">British Indian Ocean Territory</option>
                    <option value="BN">Brunei Darussalam</option>
                    <option value="BG">Bulgaria</option>
                    <option value="BF">Burkina Faso</option>
                    <option value="BI">Burundi</option>
                    <option value="KH">Cambodia</option>
                    <option value="CM">Cameroon</option>
                    <option value="CA">Canada</option>
                    <option value="CV">Cape Verde</option>
                    <option value="KY">Cayman Islands</option>
                    <option value="CF">Central African Republic</option>
                    <option value="TD">Chad</option>
                    <option value="CL">Chile</option>
                    <option value="CN">China</option>
                    <option value="CX">Christmas Island</option>
                    <option value="CC">Cocos (Keeling) Islands</option>
                    <option value="CO">Colombia</option>
                    <option value="KM">Comoros</option>
                    <option value="CG">Congo</option>
                    <option value="CD">Congo, DRC</option>
                    <option value="CK">Cook Islands</option>
                    <option value="CR">Costa Rica</option>
                    <option value="CI">Côte d'Ivoire</option>
                    <option value="HR">Croatia</option>
                    <option value="CU">Cuba</option>
                    <option value="CW">Curaçao</option>
                    <option value="CY">Cyprus</option>
                    <option value="CZ">Czech Republic</option>
                    <option value="DK">Denmark</option>
                    <option value="DJ">Djibouti</option>
                    <option value="DM">Dominica</option>
                    <option value="DO">Dominican Republic</option>
                    <option value="EC">Ecuador</option>
                    <option value="EG">Egypt</option>
                    <option value="SV">El Salvador</option>
                    <option value="GQ">Equatorial Guinea</option>
                    <option value="ER">Eritrea</option>
                    <option value="EE">Estonia</option>
                    <option value="ET">Ethiopia</option>
                    <option value="FK">Falkland Islands (Malvinas)</option>
                    <option value="FO">Faroe Islands</option>
                    <option value="FJ">Fiji</option>
                    <option value="FI">Finland</option>
                    <option value="FR">France</option>
                    <option value="GF">French Guiana</option>
                    <option value="PF">French Polynesia</option>
                    <option value="TF">French Southern Territories</option>
                    <option value="GA">Gabon</option>
                    <option value="GM">Gambia</option>
                    <option value="GE">Georgia</option>
                    <option value="DE">Germany</option>
                    <option value="GH">Ghana</option>
                    <option value="GI">Gibraltar</option>
                    <option value="GR">Greece</option>
                    <option value="GL">Greenland</option>
                    <option value="GD">Grenada</option>
                    <option value="GP">Guadeloupe</option>
                    <option value="GU">Guam</option>
                    <option value="GT">Guatemala</option>
                    <option value="GG">Guernsey</option>
                    <option value="GN">Guinea</option>
                    <option value="GW">Guinea-Bissau</option>
                    <option value="GY">Guyana</option>
                    <option value="HT">Haiti</option>
                    <option value="HM">Heard Island and McDonald Islands</option>
                    <option value="VA">Vatican City</option>
                    <option value="HN">Honduras</option>
                    <option value="HK">Hong Kong</option>
                    <option value="HU">Hungary</option>
                    <option value="IS">Iceland</option>
                    <option value="IN">India</option>
                    <option value="ID">Indonesia</option>
                    <option value="IR">Iran</option>
                    <option value="IQ">Iraq</option>
                    <option value="IE" selected>Ireland</option>
                    <option value="IM">Isle of Man</option>
                    <option value="IL">Israel</option>
                    <option value="IT">Italy</option>
                    <option value="JM">Jamaica</option>
                    <option value="JP">Japan</option>
                    <option value="JE">Jersey</option>
                    <option value="JO">Jordan</option>
                    <option value="KZ">Kazakhstan</option>
                    <option value="KE">Kenya</option>
                    <option value="KI">Kiribati</option>
                    <option value="KP">Korea, DPR</option>
                    <option value="KR">Korea, Republic of</option>
                    <option value="KW">Kuwait</option>
                    <option value="KG">Kyrgyzstan</option>
                    <option value="LA">Lao</option>
                    <option value="LV">Latvia</option>
                    <option value="LB">Lebanon</option>
                    <option value="LS">Lesotho</option>
                    <option value="LR">Liberia</option>
                    <option value="LY">Libya</option>
                    <option value="LI">Liechtenstein</option>
                    <option value="LT">Lithuania</option>
                    <option value="LU">Luxembourg</option>
                    <option value="MO">Macao</option>
                    <option value="MK">Macedonia</option>
                    <option value="MG">Madagascar</option>
                    <option value="MW">Malawi</option>
                    <option value="MY">Malaysia</option>
                    <option value="MV">Maldives</option>
                    <option value="ML">Mali</option>
                    <option value="MT">Malta</option>
                    <option value="MH">Marshall Islands</option>
                    <option value="MQ">Martinique</option>
                    <option value="MR">Mauritania</option>
                    <option value="MU">Mauritius</option>
                    <option value="YT">Mayotte</option>
                    <option value="MX">Mexico</option>
                    <option value="FM">Micronesia</option>
                    <option value="MD">Moldova</option>
                    <option value="MC">Monaco</option>
                    <option value="MN">Mongolia</option>
                    <option value="ME">Montenegro</option>
                    <option value="MS">Montserrat</option>
                    <option value="MA">Morocco</option>
                    <option value="MZ">Mozambique</option>
                    <option value="MM">Myanmar</option>
                    <option value="NA">Namibia</option>
                    <option value="NR">Nauru</option>
                    <option value="NP">Nepal</option>
                    <option value="NL">Netherlands</option>
                    <option value="NC">New Caledonia</option>
                    <option value="NZ">New Zealand</option>
                    <option value="NI">Nicaragua</option>
                    <option value="NE">Niger</option>
                    <option value="NG">Nigeria</option>
                    <option value="NU">Niue</option>
                    <option value="NF">Norfolk Island</option>
                    <option value="MP">Northern Mariana Islands</option>
                    <option value="NO">Norway</option>
                    <option value="OM">Oman</option>
                    <option value="PK">Pakistan</option>
                    <option value="PW">Palau</option>
                    <option value="PS">Palestinian Territory</option>
                    <option value="PA">Panama</option>
                    <option value="PG">Papua New Guinea</option>
                    <option value="PY">Paraguay</option>
                    <option value="PE">Peru</option>
                    <option value="PH">Philippines</option>
                    <option value="PN">Pitcairn</option>
                    <option value="PL">Poland</option>
                    <option value="PT">Portugal</option>
                    <option value="PR">Puerto Rico</option>
                    <option value="QA">Qatar</option>
                    <option value="RE">Réunion</option>
                    <option value="RO">Romania</option>
                    <option value="RU">Russian Federation</option>
                    <option value="RW">Rwanda</option>
                    <option value="BL">Saint Barthélemy</option>
                    <option value="SH">Saint Helena</option>
                    <option value="KN">Saint Kitts and Nevis</option>
                    <option value="LC">Saint Lucia</option>
                    <option value="MF">Saint Martin (French part)</option>
                    <option value="PM">Saint Pierre and Miquelon</option>
                    <option value="VC">Saint Vincent and the Grenadines</option>
                    <option value="WS">Samoa</option>
                    <option value="SM">San Marino</option>
                    <option value="ST">Sao Tome and Principe</option>
                    <option value="SA">Saudi Arabia</option>
                    <option value="SN">Senegal</option>
                    <option value="RS">Serbia</option>
                    <option value="SC">Seychelles</option>
                    <option value="SL">Sierra Leone</option>
                    <option value="SG">Singapore</option>
                    <option value="SX">Sint Maarten (Dutch part)</option>
                    <option value="SK">Slovakia</option>
                    <option value="SI">Slovenia</option>
                    <option value="SB">Solomon Islands</option>
                    <option value="SO">Somalia</option>
                    <option value="ZA">South Africa</option>
                    <option value="GS">South Georgia and the S Sandwich Isl</option>
                    <option value="SS">South Sudan</option>
                    <option value="ES">Spain</option>
                    <option value="LK">Sri Lanka</option>
                    <option value="SD">Sudan</option>
                    <option value="SR">Suriname</option>
                    <option value="SJ">Svalbard and Jan Mayen</option>
                    <option value="SZ">Swaziland</option>
                    <option value="SE">Sweden</option>
                    <option value="CH">Switzerland</option>
                    <option value="SY">Syrian Arab Republic</option>
                    <option value="TW">Taiwan, Province of China</option>
                    <option value="TJ">Tajikistan</option>
                    <option value="TZ">Tanzania, United Republic of</option>
                    <option value="TH">Thailand</option>
                    <option value="TL">Timor-Leste</option>
                    <option value="TG">Togo</option>
                    <option value="TK">Tokelau</option>
                    <option value="TO">Tonga</option>
                    <option value="TT">Trinidad and Tobago</option>
                    <option value="TN">Tunisia</option>
                    <option value="TR">Turkey</option>
                    <option value="TM">Turkmenistan</option>
                    <option value="TC">Turks and Caicos Islands</option>
                    <option value="TV">Tuvalu</option>
                    <option value="UG">Uganda</option>
                    <option value="UA">Ukraine</option>
                    <option value="AE">United Arab Emirates</option>
                    <option value="GB">United Kingdom</option>
                    <option value="US">United States</option>
                    <option value="UM">United States Minor Outlying Islands</option>
                    <option value="UY">Uruguay</option>
                    <option value="UZ">Uzbekistan</option>
                    <option value="VU">Vanuatu</option>
                    <option value="VE">Venezuela, Bolivarian Republic of</option>
                    <option value="VN">Viet Nam</option>
                    <option value="VG">Virgin Islands, British</option>
                    <option value="VI">Virgin Islands, U.S.</option>
                    <option value="WF">Wallis and Futuna</option>
                    <option value="EH">Western Sahara</option>
                    <option value="YE">Yemen</option>
                    <option value="ZM">Zambia</option>
                    <option value="ZW">Zimbabwe</option>
                </select>
                
                <input type="submit" value="Submit">   
            </form>
            
            
            
            
            
<!--            below are the checkboxes controling the optional information that can be displayed on teh daily 'cards'-->
            
                <form id="fromChecks" style="float: right; display: none">
                    <input type="checkbox" checked="checked" onclick="setDisplay('description1'), setDisplay('dayImage1'), setDisplay('description2'), setDisplay('dayImage2'), setDisplay('description3'), setDisplay('dayImage3'), setDisplay('description4'), setDisplay('dayImage4'), setDisplay('description5'), setDisplay('dayImage5')" name="summary" value="" >Summary<br>

                    <input type="checkbox" checked="checked" onclick="setDisplay('temp_max1'), setDisplay('temp_min1'), setDisplay('temp_max2'), setDisplay('temp_min2'), setDisplay('temp_max3'), setDisplay('temp_min3'), setDisplay('temp_max4'), setDisplay('temp_min4'), setDisplay('temp_max5'), setDisplay('temp_min5')" name="temperture" value="">Temperture<br>

                    <input type="checkbox" checked="checked" onclick="setDisplay('rain1'), setDisplay('rain2'), setDisplay('rain3'), setDisplay('rain4'), setDisplay('rain5')" name="rainfall" value="">Rainfall<br>

                    <input type="checkbox" onclick="setDisplay('pressure1'), setDisplay('pressure2'), setDisplay('pressure3'), setDisplay('pressure4'), setDisplay('pressure5')" name="pressure" value="" >Pressure<br>

                    <input type="checkbox" onclick="setDisplay('humidity1'), setDisplay('humidity2'), setDisplay('humidity3'), setDisplay('humidity4'), setDisplay('humidity5')" name="humididty" value="">Humidity<br>

                    <input type="checkbox" onclick="setDisplay('wind'), setDisplay('wind2'), setDisplay('wind3'), setDisplay('wind4'), setDisplay('wind5'), setDisplay('windSpeed1'), setDisplay('windSpeed2'), setDisplay('windSpeed3'), setDisplay('windSpeed4'), setDisplay('windSpeed5'), setDisplay('windDeg1'), setDisplay('windDeg2'), setDisplay('windDeg3'), setDisplay('windDeg4'), setDisplay('windDeg5')" name="windSpeed" value="">Wind
                </form>
            </div>
        
        
        

<!--            divs used for testing variables that are not nessesarily otherwise displayed-->
<!--
        <div id="testDiv1">Test 1</div><div id="testDiv2">Test 2</div><div id="testDiv3">Test 3</div><div id="testDiv4">Test 4</div><div id="testDiv5">Test 5</div><div id="testDiv6">Test 6</div><div id="testDiv7">Test 7</div><div id="testDiv8">Test 8</div>
-->

        
        
<!--            below is the section that displays the location returned from openweathermaps and the current date, this section also displays error messages when appropriate-->        
        
            <div id="cityInfo" class="centered" style="display: none; position: relative; padding: 0; margin-bottom: 20px">
                <div id="cityInfoContainer" class="cityInfoCon" style="display: inline-block; float: left; min-height: 220px; width: 220px">
                    <h2 id="city" style="display: inline; float: left">City</h2><br><br><br><br><br><br><br>
<!--                    <h4 id="longlat">test4</h4><br> -->
                    <h3 id="date" style="display: inline;">Date</h3><br><br>
                </div>
            
<!--                ; overflow-x: auto-->
                
                
<!--            when activated (by clicking on any of the daily 'cards' this section displays the various options that can be displayed on the line graph, it also hosts the checkbok to activate the 3 hourly data in text format-->    
                
                <div id="infoList" class="general" style="display: none; max-width:14%; min-height: 220px; position: relative; top: 0">
                    <ul style="float: left; padding:0; list-style-type: none">
                        <li onmouseover="GraphGenerator(selectDay,5)">Pressure pHa</li>
                        <li onmouseover="GraphGenerator(selectDay,4)">Humidity %</li>
                        <li id="windSpeedList" onmouseover="GraphGenerator(selectDay,3)">Wind Speed</li>
                        <li id="rainfallList" onmouseover="GraphGenerator(selectDay,2)">Rainfall</li>
                        <li id="tempList" onmouseover="GraphGenerator(selectDay,1)">Temperture</li>
                        <input type="checkbox" onclick="setDisplay('detailedData')" name="textData" value="">Text Data
                    </ul>
                </div>    
                
     
                
                
<!--            this div hosts the graph and is initially set to display none (it is activated by clicking on one of teh daily 'cards') the graph values are set by a function at line ~1100-->              
                
                <div class="general" style="display: inline-block; float: right; max-width:60%;  position: absolute; top: 0; right: 0">
                    <div id="graph" style="display: inline-block; float: right; height:200px; max-width:80%; position: initial"></div>
                </div> 
        </div>
        
        
        
        
<!--        below is the table displaying full 3 hourly data in text format, currently set to display none it is switched on using the 'textData' checkbox in the above section-->
        
        <div id="detailedData" class="centered" style="display: none; height: 100%; max-width: 600px; position: initial; overflow-x: auto;">
            <table style="width:100%">
                <tr>
                    <th class="th1" id="rowCol00" style="width: 85px">Pressure hPa</th>
                    <td id="rowCol01">-9</td>
                    <td id="rowCol02">-6</td> 
                    <td id="rowCol03">-3</td>
                    <td id="rowCol04">0</td>
                    <td id="rowCol05">+3</td> 
                    <td id="rowCol06">+6</td>
                    <td id="rowCol07">+9</td>
                    <td id="rowCol08">+12</td>
                </tr>
                <tr>
                    <th class="thwidth" id="rowCol10">Humidity %</th>
                    <td id="rowCol11">-9</td>
                    <td id="rowCol12">-6</td> 
                    <td id="rowCol13">-3</td>
                    <td id="rowCol14">0</td>
                    <td id="rowCol15">+3</td> 
                    <td id="rowCol16">+6</td>
                    <td id="rowCol17">+9</td>
                    <td id="rowCol18">+12</td>
                </tr>
                <tr>
                    <th class="thwidth" id="rowCol20">Wind speed</th>
                    <td id="rowCol21">-9</td>
                    <td id="rowCol22">-6</td> 
                    <td id="rowCol23">-3</td>
                    <td id="rowCol24">0</td>
                    <td id="rowCol25">+3</td> 
                    <td id="rowCol26">+6</td>
                    <td id="rowCol27">+9</td>
                    <td id="rowCol28">+12</td>
                </tr>
                <tr>
                    <th class="thwidth" id="rowCol30">Wind dir</th>
                    <td id="rowCol31">-9</td>
                    <td id="rowCol32">-6</td> 
                    <td id="rowCol33">-3</td>
                    <td id="rowCol34">0</td>
                    <td id="rowCol35">+3</td> 
                    <td id="rowCol36">+6</td>
                    <td id="rowCol37">+9</td>
                    <td id="rowCol38">+12</td>
                </tr>
                <tr>
                    <th class="thwidth" id="rowCol40">Rainfall</th>
                    <td id="rowCol41">-9</td>
                    <td id="rowCol42">-6</td> 
                    <td id="rowCol43">-3</td>
                    <td id="rowCol44">0</td>
                    <td id="rowCol45">+3</td> 
                    <td id="rowCol46">+6</td>
                    <td id="rowCol47">+9</td>
                    <td id="rowCol48">+12</td>
                </tr>
                <tr>
                    <th class="thwidth" id="rowCol50">Temp</th>
                    <td id="rowCol51">-9</td>
                    <td id="rowCol52">-6</td> 
                    <td id="rowCol53">-3</td>
                    <td id="rowCol54">0</td>
                    <td id="rowCol55">+3</td> 
                    <td id="rowCol56">+6</td>
                    <td id="rowCol57">+9</td>
                    <td id="rowCol58">+12</td>
                </tr>
                <tr>
                    <th class="thwidth" id="rowCol60">Time 24hr</th>
                    <td id="rowCol61">-9 hrs</td>
                    <td id="rowCol62">-6 hrs</td> 
                    <td id="rowCol63">-3 hrs</td>
                    <td id="rowCol64">0 hrs</td>
                    <td id="rowCol65">+3 hrs</td> 
                    <td id="rowCol66">+6 hrs</td>
                    <td id="rowCol67">+9 hrs</td>
                    <td id="rowCol68">+12 hrs</td>
                </tr>
            </table>
        </div>
    
        
        
        
        
<!--        below are the 5 cards displaying the daily information, they are set to display none, depending on the number of forcast days requested the appropriate number of cards are switched on using js switch statement at line ~685-->
        
        <div class="centered" style="padding: 0px 0px 0px 0px; margin: 35px auto">    
            <div class="cards" id="day1" onclick="get3HourlyData(1), GraphGenerator(1,1)">
                <h3 class="cardlabel" id="dayName1">DAY 1</h3>
                <img class="cardImage" id="dayImage1" src="images/cross.png" alt="icon" style="display: block">
                <ul style=" align: color: black; padding: 0px 0px 0px 0px; list-style: none">
                    <li id="temp_max1" style="font-weight: bold; display: block">temp1</li>
                    <li id="temp_min1" style="display: block">test7</li>
                    <li id="description1" style="display: block">description1</li>
                    <li id="rain1" style="display: block">rain1</li>
                    <li id="pressure1" style="display: none">test1</li>
                    <li id="humidity1" style="display: none">test2</li>
                    <li class="label" id="wind" style="display: none">Wind</li>
                    <li id="windSpeed1" style="display: none">test3</li>
                    <li id="windDeg1" style="display: none">test4</li>
                    
                </ul>
            </div>
            
            <div class="cards" id="day2" onclick="get3HourlyData(2), GraphGenerator(2,1)">
                <h3 class="cardlabel" id="dayName2">DAY 2</h3>
                <img class="cardImage" id="dayImage2" src="images/cross.png" alt="icon" style="display: block">
                <ul style="color: black; padding: 0px 0px 0px 0px; list-style: none">
                    <li id="temp_max2" style="font-weight: bold; display: block">temp2</li>
                    <li id="temp_min2" style="display: block">test7</li>
                    <li id="description2" style="display: block">description2</li>
                    <li id="rain2" style="display: block">rain2</li>
                    <li id="pressure2" style="display: none">test1</li>
                    <li id="humidity2" style="display: none">test2</li>
                    <li class="label" id="wind2" style="display: none">Wind</li>
                    <li id="windSpeed2" style="display: none">test3</li>
                    <li id="windDeg2" style="display: none">test4</li>
                      
                </ul>
            </div>
        
            <div class="cards" id="day3" onclick="get3HourlyData(3), GraphGenerator(3,1)">
                <h3 class="cardlabel" id="dayName3">DAY 3</h3>
                <img class="cardImage" id="dayImage3" src="images/cross.png" alt="icon" style="display: block">
                <ul style="color: black; padding: 0px 0px 0px 0px; list-style: none">                    
                    <li id="temp_max3" style="font-weight: bold; display: block">temp3</li>
                    <li id="temp_min3" style="display: block">test7</li>
                    <li id="description3" style="display: block">description3</li>
                    <li id="rain3" style="display: block">rain3</li>
                    <li id="pressure3" style="display: none">test1</li>
                    <li id="humidity3" style="display: none">test2</li>
                    <li class="label" id="wind3" style="display: none">Wind</li>
                    <li id="windSpeed3" style="display: none">test3</li>
                    <li id="windDeg3" style="display: none">test4</li>
                     
                </ul>
            </div>
            <div class="cards" id="day4" onclick="get3HourlyData(4), GraphGenerator(4,1)">
                <h3 class="cardlabel" id="dayName4">DAY 4</h3>
                <img class="cardImage" id="dayImage4" src="images/cross.png" alt="icon" style="display: block">
                <ul style="color: black; padding: 0px 0px 0px 0px; list-style: none">                    
                    <li id="temp_max4" style="font-weight: bold; display: block">temp4</li>
                    <li id="temp_min4" style="display: block">test7</li>
                    <li id="description4" style="display: block">description4</li>
                    <li id="rain4" style="display: block">rain4</li>
                    <li id="pressure4" style="display: none">test1</li>
                    <li id="humidity4" style="display: none">test2</li>
                    <li class="label" id="wind4" style="display: none">Wind</li>
                    <li id="windSpeed4" style="display: none">test3</li>
                    <li id="windDeg4" style="display: none">test4</li>
                     
                </ul>
            </div>
            <div class="cards" id="day5" onclick="get3HourlyData(5), GraphGenerator(5,1)">
                <h3 class="cardlabel" id="dayName5">DAY 5</h3>
                <img class="cardImage" id="dayImage5" src="images/cross.png" alt="icon" style="display: block">
                <ul style="color: black; padding: 0px 0px 0px 0px; list-style: none">                    
                    <li id="temp_max5" style="font-weight: bold; display: block">temp5</li>
                    <li id="temp_min5" style="display: block">test7</li>
                    <li id="description5" style="display: block">description5</li>
                    <li id="rain5" style="display: block">rain5</li>
                    <li id="pressure5" style="display: none">test1</li>
                    <li id="humidity5" style="display: none">test2</li>
                    <li class="label" id="wind5" style="display: none">Wind</li>
                    <li id="windSpeed5" style="display: none">test3</li>
                    <li id="windDeg5" style="display: none">test4</li>
                     
                </ul>
            </div>
        </div>
        
        
        
        
        
        
        
<!--        this div hosts the google maps container, it is controlled by js at line ~1140-->         
        
        <div class="general" style="min-height: 575px">
            <div id="mapContainer" style="max-width:800%; height:500px; clear: both"></div>   
        </div>
        
        
        
        
        
        
<!--        this section is the footer and contains only static information  (this is the end of the html section of the file)-->        
        
        <footer style="width: 100%; background-color: #bfbfbf">
            <div class="footerbackground"><!-- footer as described in index page -->
                <div class="footer">        
                    CONTACT<br><br>House Number<br>Street Name<br>County<br>Country
                </div>
            </div>
        </footer>
       
        
        
        
        
        
        
        
        
        
        
        
        

        <script>      
            
            var uri = window.location.href; // retreves the uri as a string and assigns it to a variable
            uri = uri.replace(/\?/g, "&"); // turns all ?s in the uri into &s so it can be more easily parsed
            var queryString = {};
            var mapIcon = 'images/location1.png';
            uri.replace(new RegExp("([^?=&]+)(=([^&]*))?", "g"), function($0, $1, $2, $3) { queryString[$1] = $3; }); // function 'queryString' searches uri for substring
            
            
            
            
            
            
            // this if statement returns an error message to the user if there is an error parsed from uri recieved from the php file
            
            if (queryString['name'] == "") {
                document.getElementById('cityInfo').style.display = "block";
                document.getElementById('city').innerHTML = "error";
                document.getElementById('longlat').innerHTML = "The location you entered cannot be found, please try again.";
            }
            
            else if (queryString['error'] == "multiplefound") {
                document.getElementById('cityInfo').style.display = "block";
                document.getElementById('city').innerHTML = "error";
                document.getElementById('longlat').innerHTML = "Multiple locations matching your search criteria were found,<br>please provide country code and try again.";
            }
            
            else if (queryString['error'] == "MultipleFoundNoCountryCode") {
                document.getElementById('cityInfo').style.display = "block";
                document.getElementById('city').innerHTML = "error";
                document.getElementById('longlat').innerHTML = "Multiple locations matching your search criteria were found, please provide country code and try again or input the city code by referencing: http://openweathermap.org/help/city_list.tx";
                document.getElementById('date').style.display = "none";
                document.getElementById('cityInfoContainer').style.width = "100%";
            }
            
            else if (queryString['error'] == "MultipleFoundWithMatchingCountryCode") {
                document.getElementById('cityInfo').style.display = "block";
                document.getElementById('city').innerHTML = "error";
                document.getElementById('longlat').innerHTML = "Multiple locations matching your search criteria were found, please try again or input the city code by referencing: http://openweathermap.org/help/city_list.txt";
                document.getElementById('date').style.display = "none";
                document.getElementById('cityInfoContainer').style.width = "100%";
            }
            
 
            
            
            
            
            // set variables
            
            var city = decodeURI(queryString['name']);
            var country = queryString['country'];
            var cnt = queryString['cnt'];
            var longitude = queryString['lon'];
            var latitude = queryString['lat'];
            var currentDate = new Date();
            var tempNotation = "°C";
            var speedNotation = "MPS";
            var rainfallNotation = "mm/Day";
            var selectDay = 1;
            
            
            
            
            
            
            // sets units to metric or imperial
            
            if (queryString['units'] == "imperial") {
                tempNotation = "°F";
                speedNotation = "MPH";
                rainfallNotation = "In/Day"
            }
        
            
            
            
            
            
            // construct date and set unit variables
            
            document.getElementById('date').innerHTML = DayOfWeek(currentDate.getDay()) + "<br><br>" + currentDate.getDate() + " " + MonthOfYear(currentDate.getMonth()) + ", " + currentDate.getFullYear();

            document.getElementById('windSpeedList').innerHTML = "Wind Speed " + speedNotation;
            document.getElementById('rainfallList').innerHTML = "Rainfall " + rainfallNotation;
            document.getElementById('tempList').innerHTML = "Temperature " + tempNotation;
            
            
            
            switch (cnt) {
                // swtih statement to set daily info depending on the number of days requested, uses 'setDayInfo' function at line~720 to parse values and assign them to teh appropriate displays 
                    
                case "5":
                    setDayInfo(4);

                case "4":
                    setDayInfo(3);

                case "3":
                    setDayInfo(2);

                case "2":
                    setDayInfo(1);

                case "1":
                    setDayInfo(0);
                    
                    document.getElementById('cityInfo').style.display = "block";
                    document.getElementById('fromChecks').style.display = "block";
                    document.getElementById('city').innerHTML = city + ", " + country;
                    document.getElementById('longlat').innerHTML = 'long/lat: ' + longitude + " / " + latitude;
//                    document.getElementById('count').innerHTML = 'Count: ' + cnt;      
            }
           
            
            
            
            
            
            
            
            function setDayInfo(z) {
                // function to parse uri and set daily info for single day
                
                var x = z + 1;
                var y = z;
                
                
                // checks if day0 (first day returned) is today or yesterday and assigns variables so day name can be set correctly
                if ((Date.now()/1000).toFixed(0) - (parseInt(queryString['timeDay0'])) >= 43200) { 
                    y = z - 1;
                    if (y == -1) {
                    y = 6;
                    }
                }
                
                
                // section for error handeling
                if (queryString['return' + z] == 'error') {
                 
                    document.getElementById('day' + x).style.display = "inline-block";
                    document.getElementById('dayImage' + x).src = "images/question_mark.png";
                    document.getElementById('dayName' + x).innerHTML = DayOfWeek((new Date().getDay() + y) % 7);
                    document.getElementById('temp' + x).innerHTML = 'Unavailable';
                    document.getElementById('tempRange' + x).innerHTML = 'Unavailable';
                    document.getElementById('rain' + x).innerHTML = 'Unavailable';
                    document.getElementById('pressure' + x).innerHTML = 'Unavailable';
                    document.getElementById('humidity' + x).innerHTML = 'Unavailable';
                    document.getElementById('description' + x).innerHTML = 'Unavailable';
                    document.getElementById('windSpeed' + x).innerHTML = 'Unavailable';
                    document.getElementById('windDeg' + x).innerHTML = 'Unavailable';
                    
                } else {
                    
                    var iconX = queryString['iconDay' + z];

                    document.getElementById('day' + x).style.display = "inline-block";
//                    document.getElementById('dayImage' + x).src = "http://openweathermap.org/img/w/"+iconX+".png";
                    document.getElementById('dayImage' + x).src = "images/weatherIcons/"+iconX+".png";
                    document.getElementById('dayName' + x).innerHTML = DayOfWeek((new Date().getDay() + y) % 7);
                    document.getElementById('temp_max' + x).innerHTML = queryString['temp_maxDay' + z] + tempNotation;
                    document.getElementById('temp_min' + x).innerHTML = queryString['temp_minDay' + z] + tempNotation;
                    document.getElementById('rain' + x).innerHTML = rainfallUnits(queryString['rainDay' + z], queryString['units']);
                    document.getElementById('pressure' + x).innerHTML = 'pressure: ' + queryString['pressureDay' + z];
                    document.getElementById('humidity' + x).innerHTML = 'humidity: ' + queryString['humidityDay' + z];
                    document.getElementById('description' + x).innerHTML = decodeURI(queryString['descriptionDay' + z]);
                    document.getElementById('windSpeed' + x).innerHTML = queryString['speedDay' + z] + " " + speedNotation;
                    document.getElementById('windDeg' + x).innerHTML = windDirection(queryString['degDay' + z]);
                }
            }
            
            
            
            
            
 
            function rainfallUnits(x,y) {
                // function to convert rainfall data to imperial (all rainfall data sent from openweathermap is in metric)
                
                var z = "-";
                if (x != "" && y == "imperial") {
                    z = (parseFloat(x) * 0.0393701).toFixed(3) + " " + rainfallNotation;;
                    } else if (x != "" && y == "metric") {
                        z = x + " " + rainfallNotation;;
                    }
                return z;
                }
            
            
            
            
            

            function setDisplay(x) {
                // function to toggle display property on/off
                
                var panel = document.getElementById(x);

                if (panel.style.display == "block") {
                    panel.style.display="none";
                } else {
                    panel.style.display="block";
                }
            }


            
            
            
            function DayOfWeek(x) {
                // switch statement to to convert provided integer to day of the week

                    switch (x) {
                        case 0:
                            currentDay = "Sunday";
                            break;
                        case 1:
                            currentDay = "Monday";
                            break;
                        case 2:
                            currentDay = "Tuesday";
                            break;
                        case 3:
                            currentDay = "Wednesday";
                            break;
                        case 4:
                            currentDay = "Thursday";
                            break;
                        case 5:
                            currentDay = "Friday";
                            break;
                        case 6:
                            currentDay = "Saturday";
                            break;
                    }
                    return currentDay;
                }


            
            
            
            
            
            function MonthOfYear(y) {
                // switch statement to to set month of the year

                switch (y) {
                    case 0:
                        z = "January";
                        break;
                    case 1:
                        z = "Feburary";
                        break;
                    case 2:
                        z = "March";
                        break;
                    case 3:
                        z = "April";
                        break;
                    case 4:
                        z = "May";
                        break;
                    case 5:
                        z = "June";
                        break;
                    case 6:
                        z = "July";
                        break;
                    case 7:
                        z = "August";
                        break;
                    case 8:
                        z = "September";
                        break;
                    case 9:
                        z = "October";
                        break;
                    case 10:
                        z = "November";
                        break;
                    case 11:
                        z = "December";
                        break;
                    }
                    return z;
                }
               
            
            
            
            
            
            
            function windDirection(y) { 
                // function to convert degrees to wind direction
                    
                if (isNaN(y)) {
                        z = "-";}
                else if (y > 326.25 && y < 348.75) {
                        z = "NNW";}
                else if (y > 11.25 && y < 33.75) {
                        z = "NNE";}
                else if (y > 33.75 && y < 56.25) {
                        z = "NE";}                    
                else if (y > 56.25 && y < 78.75) {
                        z = "ENE";}                    
                else if (y > 78.75 && y < 101.25) {
                        z = "E";}                    
                else if (y > 101.25 && y < 123.75) {
                        z = "ESE";}                    
                else if (y > 123.75 && y < 146.25) {
                        z = "SE";}                        
                else if (y > 146.25 && y < 168.75) {
                        z = "SSE";}                  
                else if (y > 168.75 && y < 191.25) {
                        z = "S";}                   
                else if (y > 191.25 && y < 213.75) {
                        z = "SSW";}                   
                else if (y > 213.75 && y < 236.25) {
                        z = "SW";}                   
                else if (y > 236.25 && y < 258.75) {
                        z = "WSW";}                   
                else if (y > 258.75 && y < 281.25) {
                        z = "W";}                    
                else if (y > 281.25 && y < 303.75) {
                        z = "WNW";}                    
                else if (y > 303.75 && y < 326.25) {
                        z = "NW";}                    
                else {
                        z = "N";}
                return z;
            }
            
            
            
            
            
            function isNull(x) {
                // function to find if a value is a null value
                
                if (x != null && x !== undefined && x != '') {
                    return false
                } else {
                    return true
                }
            }
            
            
            
            
            
     
            function get3HourlyData(x) {                
                // function to assign 3 hourly data to table
                
                selectDay = x;
                var iconZ = queryString['iconDay' + (x-1)];
                mapIcon = "images/weatherIcons/"+iconZ+".png";
                startMap();
                
                document.getElementById('infoList').style.display = "inline-block";
                document.getElementById('rowCol20').innerHTML = "Wind speed " + speedNotation;
                document.getElementById('rowCol50').innerHTML = "Temp " + tempNotation;
                
                if (queryString['units'] == "imperial") {
                    document.getElementById('rowCol40').innerHTML = "Rainfall In/3h";  
                } else {
                    document.getElementById('rowCol40').innerHTML = "Rainfall mm/3h";
                }
                
                
                var noon = 0;   // works out if what openweathermap returned as 'day0' (12:00) is actually today or yesterday.
                var i = 0;
                while (i < x) {
                    
                    var tempTime = parseInt(queryString['time' + noon].substring(13,15));
                
                    if (tempTime == 12) { // identifies which 3hr return (0-39) is 12:00
                        i++; 
                    }
                    noon++; 
                }
                noon--;
             
                var c = x-1;
                var props = ["pressure", "humidity", "speed", "deg", "rain", "temp", "time"];
                var arrayLength = props.length;
                var dynamic = (new Date(new Date().getTime() + (86400000 * c))); // sets control variable (dynamic).
                var dateCheck = parseInt(String(currentDate).substring(16,18));
            
                if (dateCheck <= 12) {
                    dynamic = (new Date(new Date().getTime() + (86400000 * (c-1)))); // subtracts 1 day form control variable (dynamic) if day0 is yesterday.
                    }      
                
                    // sets date and assigns it display 'date'.
                document.getElementById('date').innerHTML = DayOfWeek(dynamic.getDay()) + "<br><br>" + dynamic.getDate() + " " + MonthOfYear(dynamic.getMonth()) + ", " + dynamic.getFullYear();
                
                
                // nested for loop to assign values to table
                for (var row = 0; row < arrayLength; row++) { // sets row to be updated
                    var propToUpdate = props[row];
                    var indexToInput = noon - 3;
                    
                    for (var col = 1; col < 9; col++) { // sets column to be updated
                        
                        if (isNull(queryString[propToUpdate + indexToInput])) {
                            document.getElementById("rowCol" + row + col).innerHTML = "-";
                            indexToInput++; 
                        } else if (row == 6) {
                            var timeInput = queryString['time' + indexToInput];
                                document.getElementById("rowCol" + row + col).innerHTML = timeInput.substring(13,18);
                                indexToInput++;
                        } else if (row == 0) {
                            document.getElementById("rowCol" + row + col).innerHTML = parseFloat(queryString['pressure' + indexToInput]).toFixed(0);
                            indexToInput++;                            
                        } else if (row == 3) {
                            document.getElementById("rowCol" + row + col).innerHTML = windDirection(queryString[propToUpdate + indexToInput]);
                            indexToInput++;
                        } else {
                            document.getElementById("rowCol" + row + col).innerHTML = queryString[propToUpdate + indexToInput];
                            indexToInput++;  
                        }    
                    }
                }
            }         
            
            
            
            
            
            
            

     function GraphGenerator(x, y) {    
         // function to generate the graph output
         
         document.getElementById("graph").style.display = 'inline-block';
         document.getElementById("graph").innerHTML = "";
         
         var noon = 0;   // works out if what openweathermap returned as 'day0' (12:00) is actually today or yesterday.
         var j = 0;
         while (j < x) {
             var tempTime = parseInt(queryString['time' + noon].substring(13,15));
                
             if (tempTime == 12) { // identifies which 3hr return (0-39) is 12:00
                 j++; 
             }
             noon++; 
         }
         noon--;
         
         
         var c = "";
         switch (y) {
            case 1:
                c = "temp";
                break;
            case 2:
                c = "rain";
                break;
            case 3:
                c = "speed";
                break;
            case 4:
                c = "humidity";
                break;
            case 5:
                c = "pressure";
                break;
            }
         
         
            var s = 0;
            var graphTemp = [[3, 11], [6, 12], [9, 10], [12, 9], [15, 12], 
            [18, 14], [21, 11], [24, 13]];
            
            for(var i = noon - 3; i < (noon + 5); i++){
                graphTemp[s][1] = (parseFloat(queryString[c + i]))
                s++;
            }
            
            $(document).ready(function(){
                var lineGraph = $.jqplot ('graph', [graphTemp], {
                  seriesDefaults: {
                      rendererOptions: {
                          smooth: true
                      }
                  },
                  axes: {
                    xaxis: {min: 0, max: 24, numberTicks:9
                    },
                    yaxis: {
                    }
                  }
                });
                
            });
            $('#graph').html(lineGraph) 
        }
    
        </script> 
                    
        
        
        
        

        
        <script>
            // this section controls and initlises the google map
            
            var zoomMap = 2;
            
            if (longitude == undefined) {
                zoomMap = 2;    
                longitude = -6.2675;
                latitude = 53.3441;
            } else {
                zoomMap = 10;
            }
        </script>
        
        
        <script src="http://maps.googleapis.com/maps/api/js"></script>
        
        
        <script> 
//            var myCenter=new google.maps.LatLng(51.508742,-0.120850);
        var myCenter=new google.maps.LatLng(latitude,longitude);

        function startMap() {
            var googleProperties = {
                center:myCenter, zoom:zoomMap, mapTypeId:google.maps.MapTypeId.HYBRID
//                center:new google.maps.LatLng(53.3441,-6.2675), zoom:2, mapTypeId:google.maps.MapTypeId.HYBRID
            };
            var map=new google.maps.Map(document.getElementById("mapContainer"), googleProperties);  
            var marker=new google.maps.Marker({
            position:myCenter,
            icon:mapIcon
            });   
    
            marker.setMap(map);
            
            var infowindow = new google.maps.InfoWindow({
                content:"lat: " + latitude + "  lon: " + longitude
                });
            google.maps.event.addListener(marker, 'click', function() {
            infowindow.open(map,marker);
            });
        }
            google.maps.event.addDomListener(window, 'load', startMap);
               
        </script> 
    </body>
</html>